<form class="form-container" [formGroup]="personinfoForm" (ngSubmit)="insert()">
  <div class="f-w">
    <h3>Create new person info</h3>
  </div>
  <mat-form-field class="f-w">
    <mat-label>Name</mat-label>
    <input matInput formControlName="name" />
    <mat-error *ngIf="f['name'].touched && f['name'].errors">Name field is required!!</mat-error>
  </mat-form-field>
  <mat-form-field class="f-w">
    <mat-label>Country</mat-label>
    <mat-select formControlName="countryId" (ngModelChange)="onCountrySelected($event)">
      <mat-option value="">Select Country</mat-option>
      <mat-option *ngFor="let c of countryList" [value]="c.countryId">
        {{c.countryName}}
      </mat-option>
    </mat-select>
    <mat-error *ngIf="f['countryId'].touched && f['countryId'].errors">Country name is required!!</mat-error>
  </mat-form-field>
  <mat-form-field class="f-w">
    <mat-label>City</mat-label>
    <mat-select formControlName="cityId">
      <mat-option value="">Select City</mat-option>
      <mat-option *ngFor="let ct of cityList" [value]="ct.cityId">
        {{ct.cityName}}
      </mat-option>
    </mat-select>
    <mat-error *ngIf="f['cityId'].touched && f['cityId'].errors">City name is required!!</mat-error>
  </mat-form-field>
  <div class="f-w">
    <label>Language Skills</label>&nbsp;&nbsp;
    <div style="display:inline;margin-left:5px;" *ngFor="let item of languageList">
      <input type="checkbox" formControlName="languageSkills" name="{{item.name}}" (change)="onchange()" [(ngModel)]="item.isselected" />
      <label style="margin-left:2px;">{{item.name}}</label>
    </div>
  </div>
  <mat-form-field class="f-w">
    <mat-label>Date Of Birth</mat-label>
    <input matInput formControlName="dateOfBirth" [matDatepicker]="picker" />
    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
    <mat-error *ngIf="f['dateOfBirth'].touched && f['dateOfBirth'].errors">Date is required!!</mat-error>
  </mat-form-field>
  <mat-form-field appearance="standard" class="f-w">
    <mat-label>Resume</mat-label>
    <ngx-mat-file-input formControlName="resumeUpload" [accept]="'pdf, doc/*'" (change)="onChange($event)">

    </ngx-mat-file-input>
    <mat-icon matSuffix>insert_photo</mat-icon>
  </mat-form-field>
  <div class="f-w">
    <button [disabled]="personinfoForm.invalid" mat-raised-button type="submit" color="accent"><mat-icon>save_alt</mat-icon> Save</button>
  </div>
  <div class="f-w">
    <a mat-flat-button [routerLink]="['/personinfo-view']">Back to list</a>
  </div>
</form>

